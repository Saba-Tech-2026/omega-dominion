<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸš¢ OMEGA MARINE RADAR</title>

    <style>
        body {
            background: #050d18;
            color: #00ffcc;
            font-family: monospace;
            padding: 20px;
        }

        h1 {
            color: #4da6ff;
        }

        button {
            padding: 10px 16px;
            background: #00ffcc;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 15px;
        }

        .card {
            background: #0b1c2d;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .safe {
            color: #4dff88;
            font-weight: bold;
        }

        .danger {
            color: #ff4d4d;
            font-weight: bold;
        }

        pre {
            background: #000;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
        }
    </style>
</head>
<body>

<h1>ğŸŒ OMEGA MARINE CONTROL</h1>

<button onclick="loadRadar()">ğŸ“¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØªØ¨Ø¹</button>

<div class="card" id="dashboard">
    ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...
</div>

<pre id="raw">---</pre>

<script>
const API_URL = "http://127.0.0.1:8080/api/radar/ALPHA_DOMINION";

async function loadRadar() {
    try {
        const res = await fetch(API_URL);
        const data = await res.json();

        document.getElementById("dashboard").innerHTML = `
            <b>Ø§Ù„Ù‚Ø§Ø¦Ø¯:</b> ${data.system.leader}<br>
            <b>Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø­Ù„Ø§Øª:</b> ${data.system.trip_count}<br><br>

            <b>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:</b> ${data.globe.position.join(", ")}<br>
            <b>Ø§Ù„ÙˆØ¬Ù‡Ø©:</b> ${data.globe.destination.join(", ")}<br>
            <b>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ (ETA):</b> ${data.globe.eta_hours} Ø³Ø§Ø¹Ø©<br>
            <b>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·Ø±:</b>
            <span class="${data.globe.threat === "SAFE" ? "safe" : "danger"}">
                ${data.globe.threat}
            </span>
            <br><br>

            <b>Ø±Ø¨Ø­ Ø§Ù„Ø±Ø­Ù„Ø©:</b> ${data.finance.trip_profit} ${data.finance.currency}<br>
            <b>Ø±ØµÙŠØ¯Ùƒ:</b> ${data.finance.leader_vault} ${data.finance.currency}<br><br>

            <b>Ø§Ù„Ø«Ù‚Ø©:</b> ${data.integrity.trust}<br>
            <b>Ø§Ù„ØªÙˆÙ‚ÙŠØ¹:</b> ${data.integrity.signature}
        `;

        document.getElementById("raw").textContent =
            JSON.stringify(data, null, 2);

    } catch (e) {
        document.getElementById("dashboard").innerHTML =
            "<span class='danger'>âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±</span>";
    }
}

// ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 3 Ø«ÙˆØ§Ù†ÙŠ
setInterval(loadRadar, 3000);
loadRadar();
</script>

</body>
</html>