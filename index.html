<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸš¢ OMEGA MARINE RADAR</title>

<style>
body {
    background:#050d18;
    color:#00ffcc;
    font-family: monospace;
    padding:20px;
}

h1 {
    color:#4da6ff;
}

button {
    padding:10px 16px;
    background:#00ffcc;
    border:none;
    border-radius:6px;
    font-weight:bold;
    cursor:pointer;
    margin-bottom:15px;
}

.card {
    background:#000;
    padding:15px;
    border-radius:10px;
    margin-bottom:15px;
}

.safe { color:#00ff88; font-weight:bold; }
.warning { color:#ffaa00; font-weight:bold; }
.danger { color:#ff4444; font-weight:bold; }

.footer {
    opacity:0.6;
    font-size:12px;
}
</style>
</head>

<body>

<h1>ğŸŒŠ OMEGA MARINE SHIPPING RADAR</h1>

<button onclick="loadRadar()">ğŸ“¡ ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙÙŠÙ†Ø©</button>

<div id="dashboard" class="card">
â³ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...
</div>

<div class="card">
<h3>ğŸ“¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù†</h3>
<pre id="cargo">â€”</pre>
</div>

<div class="card">
<h3>ğŸ’° Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h3>
<pre id="finance">â€”</pre>
</div>

<div class="footer">
ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 3 Ø«ÙˆØ§Ù†ÙŠ â€¢ Ù†Ø¸Ø§Ù… Ø´Ø­Ù† Ø¨Ø­Ø±ÙŠ Ø°ÙƒÙŠ
</div>

<script>
const API_URL = "http://127.0.0.1:8080/api/radar/MARINE_SHIPPING";

async function loadRadar() {
    try {
        const res = await fetch(API_URL);
        const data = await res.json();

        /* ===== Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ===== */
        document.getElementById("dashboard").innerHTML = `
<b>ğŸš¢ Ø§Ø³Ù… Ø§Ù„Ø³ÙÙŠÙ†Ø©:</b> ${data.ship.name}<br>
<b>ğŸ§­ Ø§Ù„Ù‚Ø¨Ø·Ø§Ù†:</b> ${data.ship.captain}<br>
<b>âš“ Ø§Ù„Ø­Ø§Ù„Ø©:</b> ${data.ship.status}<br><br>

<b>ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:</b> ${data.route.current_port}<br>
<b>ğŸ¯ Ø§Ù„ÙˆØ¬Ù‡Ø©:</b> ${data.route.destination_port}<br>
<b>ğŸ•’ ÙˆÙ‚Øª Ø§Ù„ÙˆØµÙˆÙ„ (ETA):</b> ${data.route.eta_hours} Ø³Ø§Ø¹Ø©<br><br>

<b>ğŸŒ¦ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø¨Ø­Ø±ÙŠ:</b> ${data.environment.weather}<br>
<b>ğŸŒŠ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø£Ù…ÙˆØ§Ø¬:</b> ${data.environment.wave_height} Ù…<br>

<b>âš ï¸ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·Ø±:</b>
<span class="${
    data.environment.threat === 'SAFE'
        ? 'safe'
        : data.environment.threat === 'WARNING'
        ? 'warning'
        : 'danger'
}">
${data.environment.threat}
</span>
`;

        /* ===== Ø§Ù„Ø´Ø­Ù†Ø© ===== */
        document.getElementById("cargo").textContent =
JSON.stringify({
    Ù†ÙˆØ¹_Ø§Ù„Ø´Ø­Ù†Ø©: data.cargo.type,
    Ø§Ù„ÙˆØ²Ù†_Ø¨Ø§Ù„Ø·Ù†: data.cargo.weight_tons,
    Ø¹Ø¯Ø¯_Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª: data.cargo.containers,
    Ø­Ø§Ù„Ø©_Ø§Ù„ØªØ£Ù…ÙŠÙ†: data.cargo.insured
}, null, 2);

        /* ===== Ø§Ù„Ù…Ø§Ù„ ===== */
        document.getElementById("finance").textContent =
JSON.stringify({
    Ø±Ø¨Ø­_Ø§Ù„Ø±Ø­Ù„Ø©: data.finance.trip_profit,
    Ø§Ù„Ø¹Ù…Ù„Ø©: data.finance.currency,
    ØªÙƒÙ„ÙØ©_Ø§Ù„ÙˆÙ‚ÙˆØ¯: data.finance.fuel_cost,
    Ø±Ø³ÙˆÙ…_Ø§Ù„Ù…ÙˆØ§Ù†Ø¦: data.finance.port_fees,
    ØµØ§ÙÙŠ_Ø§Ù„Ø±Ø¨Ø­: data.finance.net_profit
}, null, 2);

    } catch (e) {
        document.getElementById("dashboard").innerHTML =
        "<span class='danger'>âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø³ÙŠØ±ÙØ± Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¨Ø­Ø±ÙŠ</span>";
    }
}

/* ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ */
setInterval(loadRadar, 3000);
loadRadar();
</script>

</body>
</html>