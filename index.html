<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸš¢ OMEGA â€“ Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¨Ø­Ø±ÙŠ</title>

<style>
body{
    background:#050d18;
    color:#e8f6ff;
    font-family: Tahoma, Arial, monospace;
    padding:20px;
}

h1{
    color:#4da6ff;
    margin-bottom:10px;
}

button{
    background:#00ffcc;
    border:none;
    padding:10px 16px;
    font-weight:bold;
    cursor:pointer;
    border-radius:6px;
}

.card{
    background:#0c1a2b;
    padding:15px;
    border-radius:10px;
    margin-bottom:15px;
}

.safe{ color:#4dff88; }
.warning{ color:#ffd24d; }
.danger{ color:#ff4d4d; }

.footer{
    opacity:.7;
    margin-top:20px;
    font-size:13px;
    text-align:center;
}
pre{
    background:#000;
    padding:12px;
    border-radius:8px;
    overflow:auto;
}
</style>
</head>

<body>

<h1>ğŸŒ OMEGA â€“ Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¨Ø­Ø±ÙŠ Ø§Ù„Ø°ÙƒÙŠ</h1>

<button onclick="loadRadar()">ğŸ“¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØªØ¨Ø¹</button>

<div id="dashboard" class="card">â³ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>

<div class="card">
    <h3>ğŸ“¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù†Ø©</h3>
    <pre id="cargo">--</pre>
</div>

<div class="card">
    <h3>ğŸ’° Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h3>
    <pre id="finance">--</pre>
</div>

<div class="footer">
    ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 3 Ø«ÙˆØ§Ù†ÙŠ â€¢ Ù†Ø¸Ø§Ù… ØªØªØ¨Ø¹ Ø´Ø­Ù† Ø¨Ø­Ø±ÙŠ Ø°ÙƒÙŠ
</div>

<script>
const API_URL = "http://127.0.0.1:8080/api/radar/ALPHA_DOMINION";

async function loadRadar(){
    try{
        const res = await fetch(API_URL);
        const data = await res.json();

        /* ===== Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ===== */
        document.getElementById("dashboard").innerHTML = `
<b>ğŸš¢ Ø§Ù„Ù†Ø¸Ø§Ù…:</b> ${data.system?.leader ?? "-"}<br>
<b>âš™ï¸ Ø§Ù„ÙˆØ¶Ø¹:</b> ${data.system?.mode ?? "-"}<br>
<b>ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø­Ù„Ø§Øª:</b> ${data.system?.trip_count ?? 0}<br><br>

<b>ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:</b> ${data.globe?.position?.join(", ") ?? "-"}<br>
<b>ğŸ¯ Ø§Ù„ÙˆØ¬Ù‡Ø©:</b> ${data.globe?.destination?.join(", ") ?? "-"}<br>
<b>â± ETA:</b> ${data.globe?.eta_hours ?? "-"} Ø³Ø§Ø¹Ø©<br>

<b>âš ï¸ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·Ø±:</b>
<span class="${
    data.globe?.threat === "SAFE" ? "safe" :
    data.globe?.threat === "HIGH_RISK" ? "danger" : "warning"
}">
${data.globe?.threat ?? "-"}
</span><br><br>

<b>ğŸ›¡ Ø§Ù„Ø«Ù‚Ø©:</b> ${data.integrity?.trust ?? "-"}<br>
<b>ğŸ” Ø§Ù„ØªÙˆÙ‚ÙŠØ¹:</b> ${data.integrity?.signature ?? "-"}
`;

        /* ===== Ø§Ù„Ø´Ø­Ù†Ø© ===== */
        document.getElementById("cargo").textContent =
JSON.stringify({
    Ù†ÙˆØ¹_Ø§Ù„Ø´Ø­Ù†Ø©: "Ø­Ø§ÙˆÙŠØ§Øª Ø¨Ø­Ø±ÙŠØ©",
    Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡_Ø§Ù„Ø­Ø§Ù„ÙŠ: data.globe?.position ?? "-",
    Ø§Ù„ÙˆØ¬Ù‡Ø©: data.globe?.destination ?? "-",
    Ø§Ù„Ø­Ø§Ù„Ø©: data.globe?.threat ?? "-"
}, null, 2);

        /* ===== Ø§Ù„Ù…Ø§Ù„ ===== */
        document.getElementById("finance").textContent =
JSON.stringify({
    Ø±Ø¨Ø­_Ø§Ù„Ø±Ø­Ù„Ø©: data.finance?.trip_profit ?? 0,
    Ø§Ù„Ø¹Ù…Ù„Ø©: data.finance?.currency ?? "-",
    Ø±ØµÙŠØ¯_Ø§Ù„Ù‚Ø§Ø¦Ø¯: data.finance?.leader_vault ?? 0
}, null, 2);

    }catch(e){
        document.getElementById("dashboard").innerHTML =
            "<span class='danger'>âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø³ÙŠØ±ÙØ± Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¨Ø­Ø±ÙŠ</span>";
    }
}

/* ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ */
setInterval(loadRadar, 3000);
loadRadar();
</script>

</body>
</html>